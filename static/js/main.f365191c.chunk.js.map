{"version":3,"sources":["Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/App.module.css","Components/Searchbar/Searchbar.js","Components/Notification/Notification.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","Components/Button/Button.js","Services/imagesApi.js","Components/App.js","index.js","Components/Searchbar/Searchbar.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","Notification","message","defaultProps","ImageGalleryItem","url","onOpenModal","onhandleLargeImageUrl","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","id","webformatURL","key","Modal","overlayRef","createRef","handleKeyDown","console","log","code","onClose","handleOverlayClick","current","window","addEventListener","removeEventListener","Overlay","ref","onKeyDown","children","Button","onLoadNewImages","fetchImagesWithQuery","searchQuery","page","axios","get","then","responce","data","hits","proptypes","PropTypes","string","number","isRequired","App","loading","error","showModal","largeImageUrl","fetchImages","imagesApi","prevState","catch","finally","handleSearchbarSubmit","query","handleLargeImageUrl","needObj","find","image","largeImageURL","toggleModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","style","length","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f365191c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1hnjP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__HOrbw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__-gifw\"};","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css'\nimport PropTypes from 'prop-types';\n\n\nexport default class Searchbar extends Component {\n    state = { inputValue: '' };\n\n    handleChange = e => {\n        this.setState({ inputValue: e.target.value })\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n        this.props.onSubmit(this.state.inputValue);\n        this.setState({ inputValue: '' })\n    };\n    render() {\n\n        return (\n            <header className={styles.Searchbar}>\n                <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n                    <button type=\"submit\" className={styles.SearchFormButton}>\n                        <span className={styles.SearchFormButtonLabel}>Search</span>\n                    </button>\n\n                    <input\n                        className={styles.SearchFormInput}\n                        type=\"text\"\n                        // type='search'\n                        value={this.state.inputValue}\n                        onChange={this.handleChange}\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                    />\n                </form>\n            </header>\n\n        );\n    }\n};\n\nSearchbar.propTypes = {\n    onSubmit: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n\nexport default function Notification({ message }) {\n    return <div>{message}</div>;\n};\n\nNotification.defaultProps = {\n    message: '',\n};\n\nNotification.propTypes = {\n    message: PropTypes.string,\n};\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\n\nexport default function ImageGalleryItem({ url, onOpenModal, onhandleLargeImageUrl }) {\n    return (\n        <li className={styles.ImageGalleryItem} onClick={onOpenModal}>\n            <img src={url} alt=\"pick\" onClick={(e) => onhandleLargeImageUrl(e)} className={styles.ImageGalleryItemImage} />\n        </li>)\n};\n\nImageGalleryItem.propTypes = {\n    url: PropTypes.string.isRequired,\n    onOpenModal: PropTypes.func,\n    onhandleLargeImageUrl: PropTypes.func,\n};","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\n\n// import { v4 as uuidv4 } from 'uuid';\n\nconst ImageGallery = ({ onhandleLargeImageUrl, onOpenModal, images }) => {\n    return (<ul className={styles.ImageGallery}>\n        {images.map(({ id, webformatURL }) => (\n            <ImageGalleryItem key={id} url={webformatURL} onOpenModal={onOpenModal} onhandleLargeImageUrl={onhandleLargeImageUrl} />))}\n\n    </ul>\n    )\n};\n\nImageGallery.defaultProps = {\n    images: [],\n};\n\nImageGallery.propTypes = {\n    onhandleLargeImageUrl: PropTypes.func,\n    onOpenModal: PropTypes.func,\n    images: PropTypes.array.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component, createRef } from 'react';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\n\nexport default class Modal extends Component {\n    overlayRef = createRef();\n\n    componentDidMount() {\n\n        window.addEventListener('keydown', this.handleKeyDown);\n    };\n\n    componentWillUnmount() {\n\n        window.removeEventListener('keydown', this.handleKeyDown);\n    };\n\n    handleKeyDown = e => {\n        console.log(e);\n        if (e.code === 'Escape') {\n            console.log('Закрываем модалку с this.props.onClose.');\n            this.props.onClose();\n        }\n    };\n\n    handleOverlayClick = e => {\n        const { current } = this.overlayRef;\n        if (current && e.target !== current) return;\n        this.props.onClose();\n    };\n\n    render() {\n        return (\n            <div className={styles.Overlay} ref={this.overlayRef} onClick={this.handleOverlayClick} onKeyDown={this.handleKeyDown}>\n                <div className={styles.Modal}>{this.props.children}</div>\n            </div>\n        );\n    }\n};\n\nModal.propTypes = {\n    onClose: PropTypes.func,\n};\n","import React from 'react';\nimport styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\n\n\nfunction Button({ onLoadNewImages }) {\n    return (\n        <button className={styles.Button} type=\"button\" onClick={onLoadNewImages}>\n            Load more\n    </button>)\n};\n\nButton.propTypes = {\n    onLoadNewImages: PropTypes.func,\n};\n\nexport default Button;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\n\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\n    return axios.get(`https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${'16242873-c667df57b0e10acd3200aaddf'}&image_type=photo&orientation=horizontal&per_page=12\n`).then(responce => responce.data.hits);\n};\n\nfetchImagesWithQuery.proptypes = {\n    searchQuery: PropTypes.string,\n    page: PropTypes.number.isRequired\n};\n\n\nexport default { fetchImagesWithQuery };","import React, { Component } from 'react';\nimport Searchbar from './Searchbar/Searchbar';\nimport Notification from './Notification/Notification';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Loader from 'react-loader-spinner';\nimport Modal from './Modal/Modal';\nimport Button from './Button/Button';\nimport styles from './App.module.css';\n\nimport imagesApi from '../Services/imagesApi';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    largeImageUrl: null,\n  };\n\n  // componentDidMount() {\n  //   this.fetchImages()\n  // }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    };\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n    imagesApi.fetchImagesWithQuery(searchQuery, page).then(images => this.setState(prevState => ({ images: [...prevState.images, ...images], page: prevState.page + 1, }))).catch(error => this.setState({ error: error })).finally(() => this.setState({ loading: false }))\n  };\n\n  handleSearchbarSubmit = query => {\n    this.setState({ searchQuery: query, page: 1, images: [] })\n  };\n\n  handleLargeImageUrl = e => {\n    const images = this.state.images;\n    const needObj = images.find(image => image.webformatURL === e.target.src);\n    this.setState({ largeImageUrl: needObj.largeImageURL })\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({ showModal: !state.showModal }))\n  };\n\n  render() {\n    const { images, loading, error, showModal, largeImageUrl } = this.state;\n    const style = [styles.App];\n    return (\n      <div className={style}>\n        <Searchbar onSubmit={this.handleSearchbarSubmit} />\n        {error && (<Notification message={`Whoops, something went wrong: ${error.message}`} />)}\n        {images.length > 0 && <ImageGallery onhandleLargeImageUrl={this.handleLargeImageUrl} onOpenModal={this.toggleModal} images={images} />}\n        {loading && <Loader type=\"Puff\"\n          color=\"#00BFFF\"\n          height={480}\n          width={480}\n          timeout={3000} />}\n        {images.length > 0 && !loading && (<Button onLoadNewImages={this.fetchImages} />)}\n        {showModal && (<Modal onClose={this.toggleModal}>\n          <img src={largeImageUrl} alt=\"modal\" />\n        </Modal>\n        )}\n      </div>);\n  }\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3YYEG\",\"SearchForm\":\"Searchbar_SearchForm__1hX1-\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3Txlp\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2x_EN\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2AFLM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__VPBD0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3sKCK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__33Ypd\",\"Modal\":\"Modal_Modal__3ihEg\"};"],"sourceRoot":""}